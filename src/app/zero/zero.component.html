<mat-toolbar class="nav-toolbar"
             fxLayout="row"
             fxLayoutAlign="start center"
             fxLayoutGap="15px">
  <button mat-icon-button
          (click)="toggleSidenav()">
    <fa-icon [icon]="faBars"></fa-icon>
  </button>
  <span class="spacer"></span>
  <span class="mat-body-1">Тредов: {{(threads$ | async)?.length || 0}}</span>
</mat-toolbar>
<div *ngIf="!(threads$ | async)"
     style="min-height: 75vh;"
     fxLayout="column"
     fxLayoutAlign="center center"
     fxLayoutGap="5px">
  <mat-spinner>
  </mat-spinner>
</div>
<div class="container">
  <div class="grid-container">
    <div *ngFor="let thread of threads$ | async">
      <mat-card class="thread-card">
        <mat-card-header>
          <mat-card-title>{{ thread.num }}</mat-card-title>
          <mat-card-subtitle>Файлов: ({{thread.files_count}})</mat-card-subtitle>
        </mat-card-header>

        <img class="thread-thumb"
             [satPopoverAnchorFor]="fullSize"
             [routerLink]="['thread', thread.num ]"
             [src]="getThreadThumbnail(thread)"
             alt="thread img">
        <sat-popover #fullSize
                     horizontalAlign="after"
                     verticalAlign="center">
          <img class="fullSize"
               [src]=getThreadImage(thread)>
        </sat-popover>

        <mat-card-content style="padding-top: 15px;">
          <p class="thread-description"
             [innerHTML]="thread.subject">
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button
                  color="primary"
                  [routerLink]="['thread', thread.num ]">
            <fa-icon [icon]="faBolt"></fa-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>